{"ast":null,"code":"import { fetchPolicies, fetchErrors } from \"./PoliciesActions\";\nimport axios from \"axios\";\nconst initialState = {\n  policiesData: {},\n  error: \"\"\n};\nconst policyReducer = {\n  name: \"policies\",\n  reducer: function () {\n    let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    let action = arguments.length > 1 ? arguments[1] : undefined;\n\n    switch (action.type) {\n      case \"FETCH_POLICIES\":\n        return {\n          policiesData: action.payload,\n          error: \"\"\n        };\n\n      case \"FETCH_ERRORS\":\n        return {\n          policiesData: {},\n          error: action.payload\n        };\n\n      default:\n        return state;\n    }\n  },\n  selectPolicies: state => state.policies,\n  doFetchPolicies: () => _ref => {\n    let {\n      dispatch\n    } = _ref;\n    axios.get(\"https://jsonplaceholder.typicode.com/users\").then(response => {\n      const policies = response.data;\n      console.log(\"Got the data:- \", policies);\n      dispatch(fetchPolicies(policies));\n    }).catch(error => {\n      const errorMsg = error.message;\n      console.log(\"Got the error:- \", errorMsg);\n      dispatch(fetchErrors(errorMsg));\n    });\n  },\n  init: store => {\n    store.doFetchPolicies();\n    store.selectPolicies();\n  }\n};\nexport default policyReducer;","map":{"version":3,"sources":["/Users/learnyst/Desktop/Practice_Website_Builder/web-build-ui-v1/src/bundles/Policies.ts"],"names":["fetchPolicies","fetchErrors","axios","initialState","policiesData","error","policyReducer","name","reducer","state","action","type","payload","selectPolicies","policies","doFetchPolicies","dispatch","get","then","response","data","console","log","catch","errorMsg","message","init","store"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,WAAxB,QAA2C,mBAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,YAAY,EAAE,EADK;AAEnBC,EAAAA,KAAK,EAAE;AAFY,CAArB;AAYA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,IAAI,EAAE,UADc;AAGpBC,EAAAA,OAAO,EAAE,YAA0C;AAAA,QAAzCC,KAAyC,uEAAjCN,YAAiC;AAAA,QAAnBO,MAAmB;;AACjD,YAAQA,MAAM,CAACC,IAAf;AACE,WAAK,gBAAL;AACE,eAAO;AACLP,UAAAA,YAAY,EAAEM,MAAM,CAACE,OADhB;AAELP,UAAAA,KAAK,EAAE;AAFF,SAAP;;AAKF,WAAK,cAAL;AACE,eAAO;AACLD,UAAAA,YAAY,EAAE,EADT;AAELC,UAAAA,KAAK,EAAEK,MAAM,CAACE;AAFT,SAAP;;AAKF;AACE,eAAOH,KAAP;AAdJ;AAgBD,GApBmB;AAsBpBI,EAAAA,cAAc,EAAGJ,KAAD,IAA+BA,KAAK,CAACK,QAtBjC;AAwBpBC,EAAAA,eAAe,EACb,MACA,QAAuB;AAAA,QAAtB;AAAEC,MAAAA;AAAF,KAAsB;AACrBd,IAAAA,KAAK,CACFe,GADH,CACO,4CADP,EAEGC,IAFH,CAESC,QAAD,IAAc;AAClB,YAAML,QAAQ,GAAGK,QAAQ,CAACC,IAA1B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BR,QAA/B;AACAE,MAAAA,QAAQ,CAAChB,aAAa,CAACc,QAAD,CAAd,CAAR;AACD,KANH,EAOGS,KAPH,CAOUlB,KAAD,IAAW;AAChB,YAAMmB,QAAQ,GAAGnB,KAAK,CAACoB,OAAvB;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCE,QAAhC;AACAR,MAAAA,QAAQ,CAACf,WAAW,CAACuB,QAAD,CAAZ,CAAR;AACD,KAXH;AAYD,GAvCiB;AAyCpBE,EAAAA,IAAI,EAAGC,KAAD,IAAwE;AAC5EA,IAAAA,KAAK,CAACZ,eAAN;AACAY,IAAAA,KAAK,CAACd,cAAN;AACD;AA5CmB,CAAtB;AA+CA,eAAeP,aAAf","sourcesContent":["import { fetchPolicies, fetchErrors } from \"./PoliciesActions\";\nimport axios from \"axios\";\n\nconst initialState = {\n  policiesData: {},\n  error: \"\",\n};\n\ninterface Action {\n  type: string;\n  payload?: any;\n}\n\n\n\nconst policyReducer = {\n  name: \"policies\",\n\n  reducer: (state = initialState, action: Action) => {\n    switch (action.type) {\n      case \"FETCH_POLICIES\":\n        return {\n          policiesData: action.payload,\n          error: \"\",\n        };\n\n      case \"FETCH_ERRORS\":\n        return {\n          policiesData: {},\n          error: action.payload,\n        };\n\n      default:\n        return state;\n    }\n  },\n\n  selectPolicies: (state: { policies: any; }) => state.policies,\n\n  doFetchPolicies:\n    () =>\n    ({ dispatch }: any) => {\n      axios\n        .get(\"https://jsonplaceholder.typicode.com/users\")\n        .then((response) => {\n          const policies = response.data;\n          console.log(\"Got the data:- \", policies);\n          dispatch(fetchPolicies(policies));\n        })\n        .catch((error) => {\n          const errorMsg = error.message;\n          console.log(\"Got the error:- \", errorMsg);\n          dispatch(fetchErrors(errorMsg));\n        });\n    },\n\n  init: (store: { doFetchPolicies: () => void; selectPolicies: () => void }) => {\n    store.doFetchPolicies();\n    store.selectPolicies();\n  },\n};\n\nexport default policyReducer;\n"]},"metadata":{},"sourceType":"module"}